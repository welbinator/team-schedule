(()=>{async function e(e){try{const n=await fetch(`/wp-json/wp/v2/team_schedule_team/${e}`),a=await n.json();return{name:t(a.title.rendered),url:a.link}}catch(e){return console.error("Error fetching opponent data:",e),{name:"Unknown Opponent",url:"#"}}}function t(e){const t=document.createElement("textarea");return t.innerHTML=e,t.value}function n(e){const[t,n]=e.split(":"),a=new Date;return a.setHours(t),a.setMinutes(n),new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(a)}document.addEventListener("DOMContentLoaded",(function(){const t=document.querySelector(".team-schedule-dropdown"),a=document.querySelector(".team-schedule-games");if(t&&!t.hasEventListener){t.hasEventListener=!0;const o=e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value};(async()=>{let e=1,t=[],n=!0;for(;n;)try{const a=await fetch(`/wp-json/wp/v2/team_schedule_team?per_page=100&page=${e}`),o=await a.json();o.length>0?(t=t.concat(o),e++):n=!1}catch(e){console.error("Error fetching teams:",e),n=!1}return t})().then((e=>{t.innerHTML='<option value="">Please select your team</option>',0===e.length?t.innerHTML+='<option value="">No teams found</option>':e.forEach((e=>{const n=document.createElement("option");n.value=e.id,n.textContent=o(e.title.rendered),t.appendChild(n)}))})).catch((e=>console.error("Error fetching teams:",e))),t.addEventListener("change",(function(){const d=t.value;d?fetch(`/wp-json/team-schedule/v1/games?team=${d}`).then((e=>e.json())).then((async t=>{if(a.innerHTML="",0===t.length)a.innerHTML="No games found for this team.";else{const d=document.createElement("div");d.classList.add("rounded-lg","border","bg-card","text-card-foreground","shadow-sm");const c=document.createElement("div");c.classList.add("flex","flex-col","space-y-1.5","p-6","px-7");const r=document.createElement("h3");r.classList.add("whitespace-nowrap","text-2xl","font-semibold","leading-none","tracking-tight"),r.textContent="Upcoming Games";const s=document.createElement("p");s.classList.add("text-sm","text-muted-foreground"),s.textContent="Schedule of upcoming games.",c.appendChild(r),c.appendChild(s);const l=document.createElement("div");l.classList.add("p-6");const i=document.createElement("div");i.classList.add("relative","w-full","overflow-auto");const m=document.createElement("table");m.classList.add("w-full","caption-bottom","text-sm","team-frontend");const u=document.createElement("thead");u.classList.add("[&amp;_tr]:border-b");const p=document.createElement("tr");p.classList.add("border-b","transition-colors","hover:bg-muted/50","data-[state=selected]:bg-muted"),["Date","Time","Home/Away","Field","Opponent"].forEach((e=>{const t=document.createElement("th");t.classList.add("h-12","px-4","text-left","align-middle","font-medium","text-muted-foreground"),t.textContent=e,p.appendChild(t)})),u.appendChild(p),m.appendChild(u);const h=document.createElement("tbody");h.classList.add("[&amp;_tr:last-child]:border-0");for(const a of t){const t=await e(a.opponent),d=document.createElement("tr");d.classList.add("border-b","transition-colors","hover:bg-muted/50","data-[state=selected]:bg-muted"),[a.date,n(a.time),a.home_away,a.field].forEach((e=>{const t=document.createElement("td");t.classList.add("p-4","align-middle"),t.textContent=o(e),d.appendChild(t)}));const c=document.createElement("td");c.classList.add("p-4","align-middle");const r=document.createElement("a");r.href=t.url,r.textContent=t.name,c.appendChild(r),d.appendChild(c),h.appendChild(d)}m.appendChild(h),i.appendChild(m),l.appendChild(i),d.appendChild(c),d.appendChild(l),a.appendChild(d)}})).catch((e=>console.error("Error fetching games:",e))):a.innerHTML="Please choose a team."}))}}))})();