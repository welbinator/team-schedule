document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".team-schedule-dropdown"),t=document.querySelector(".team-schedule-games");e&&(fetch("/wp-json/team-schedule/v1/teams").then((e=>e.json())).then((t=>{console.log("Fetched teams:",t),0===t.length?e.innerHTML='<option value="">No teams found</option>':t.forEach((t=>{console.log("Adding team to dropdown:",t.id,t.post_title);const o=document.createElement("option");o.value=t.ID,o.textContent=t.post_title,e.appendChild(o)}))})).catch((e=>console.error("Error fetching teams:",e))),e.addEventListener("change",(function(){const o=e.value;console.log("Selected team ID:",o),o?fetch(`/wp-json/team-schedule/v1/games?team=${o}`).then((e=>e.json())).then((e=>{if(console.log("Fetched games for team",o,":",e),t.innerHTML="",0===e.length)t.innerHTML="No games found for this team.";else{const o=document.createElement("ul");e.forEach((e=>{console.log("Processing game:",e);const t=document.createElement("li");t.textContent=`Date: ${e.date}, Time: ${e.time}, Home/Away: ${e.home_away}, Field: ${e.field}, Opponent: ${e.opponent}`,o.appendChild(t)})),t.appendChild(o)}})).catch((e=>console.error("Error fetching games:",e))):t.innerHTML="Please choose a team."})))}));