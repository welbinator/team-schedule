(()=>{async function e(e){try{const t=await fetch(`/wp-json/wp/v2/team_schedule_team/${e}`);return(await t.json()).title.rendered||"Unknown Opponent"}catch(e){return console.error("Error fetching opponent name:",e),"Unknown Opponent"}}function t(e){const[t,n]=e.split(":"),o=new Date;return o.setHours(t),o.setMinutes(n),new Intl.DateTimeFormat("en-US",{hour:"numeric",minute:"numeric",hour12:!0}).format(o)}document.addEventListener("DOMContentLoaded",(function(){const n=document.querySelector(".team-schedule-dropdown"),o=document.querySelector(".team-schedule-games");if(n&&!n.hasEventListener){n.hasEventListener=!0;const a=e=>{const t=document.createElement("textarea");return t.innerHTML=e,t.value};(async()=>{let e=1,t=[],n=!0;for(;n;)try{const o=await fetch(`/wp-json/wp/v2/team_schedule_team?per_page=100&page=${e}`),a=await o.json();a.length>0?(t=t.concat(a),e++):n=!1}catch(e){console.error("Error fetching teams:",e),n=!1}return t})().then((e=>{n.innerHTML='<option value="">Please select your team</option>',0===e.length?n.innerHTML+='<option value="">No teams found</option>':e.forEach((e=>{const t=document.createElement("option");t.value=e.id,t.textContent=a(e.title.rendered),n.appendChild(t)}))})).catch((e=>console.error("Error fetching teams:",e))),n.addEventListener("change",(function(){const a=n.value;a?fetch(`/wp-json/team-schedule/v1/games?team=${a}`).then((e=>e.json())).then((async n=>{if(o.innerHTML="",0===n.length)o.innerHTML="No games found for this team.";else{const a=document.createElement("div");a.classList.add("rounded-lg","border","bg-card","text-card-foreground","shadow-sm");const d=document.createElement("div");d.classList.add("flex","flex-col","space-y-1.5","p-6","px-7");const c=document.createElement("h3");c.classList.add("whitespace-nowrap","text-2xl","font-semibold","leading-none","tracking-tight"),c.textContent="Upcoming Games";const s=document.createElement("p");s.classList.add("text-sm","text-muted-foreground"),s.textContent="Schedule of upcoming games.",d.appendChild(c),d.appendChild(s);const r=document.createElement("div");r.classList.add("p-6");const l=document.createElement("div");l.classList.add("relative","w-full","overflow-auto");const i=document.createElement("table");i.classList.add("w-full","caption-bottom","text-sm","team-frontend");const m=document.createElement("thead");m.classList.add("[&amp;_tr]:border-b");const p=document.createElement("tr");p.classList.add("border-b","transition-colors","hover:bg-muted/50","data-[state=selected]:bg-muted"),["Date","Time","Home/Away","Field","Opponent"].forEach((e=>{const t=document.createElement("th");t.classList.add("h-12","px-4","text-left","align-middle","font-medium","text-muted-foreground"),t.textContent=e,p.appendChild(t)})),m.appendChild(p),i.appendChild(m);const u=document.createElement("tbody");u.classList.add("[&amp;_tr:last-child]:border-0");for(const o of n){const n=await e(o.opponent),a=document.createElement("tr");a.classList.add("border-b","transition-colors","hover:bg-muted/50","data-[state=selected]:bg-muted"),[o.date,t(o.time),o.home_away,o.field,n].forEach((e=>{const t=document.createElement("td");t.classList.add("p-4","align-middle"),t.textContent=e,a.appendChild(t)})),u.appendChild(a)}i.appendChild(u),l.appendChild(i),r.appendChild(l),a.appendChild(d),a.appendChild(r),o.appendChild(a)}})).catch((e=>console.error("Error fetching games:",e))):o.innerHTML="Please choose a team."}))}}))})();