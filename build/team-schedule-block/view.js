document.addEventListener("DOMContentLoaded",(function(){const e=document.querySelector(".team-schedule-dropdown"),t=document.querySelector(".team-schedule-games");e&&(fetch("/wp-json/team-schedule/v1/teams").then((e=>e.json())).then((t=>{0===t.length?e.innerHTML='<option value="">No teams found</option>':t.forEach((t=>{const n=document.createElement("option");n.value=t.ID,n.textContent=t.post_title,e.appendChild(n)}))})).catch((e=>console.error("Error fetching teams:",e))),e.addEventListener("change",(function(){const n=e.value;n?fetch(`/wp-json/team-schedule/v1/games?team=${n}`).then((e=>e.json())).then((e=>{if(t.innerHTML="",0===e.length)t.innerHTML="No games found for this team.";else{const n=document.createElement("ul");n.classList.add("game-list");const o=document.createElement("li");o.classList.add("game-list-header"),o.innerHTML="<strong>Date</strong>, <strong>Time</strong>, <strong>Home/Away</strong>, <strong>Field</strong>, <strong>Opponent</strong>",n.appendChild(o),e.forEach((e=>{const t=document.createElement("li");t.classList.add("game-list-item"),t.textContent=`Date: ${e.date}, Time: ${e.time}, ${e.home_away}, Field: ${e.field}, Opponent: ${e.opponent}`,n.appendChild(t)})),t.appendChild(n)}})).catch((e=>console.error("Error fetching games:",e))):t.innerHTML="Please choose a team."})))}));